# Development overrides â€” run with:
#   docker compose -f docker-compose.yml -f docker-compose.dev.yml up -d api-quoter api-scheduler
#
# Disables Traefik, exposes API ports directly, adds CORS for Astro dev server.
# Frontend runs outside Docker with: cd apps/web && pnpm dev

services:
  # Disable production-only services
  traefik:
    profiles: [production]
  nginx:
    profiles: [production]
  gatus:
    profiles: [production]

  api-quoter:
    ports:
      - "8081:8081"
    environment:
      - CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:4321}
    networks:
      - internal
    labels: []

  api-scheduler:
    ports:
      - "8082:8082"
    environment:
      - CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:4321}
      - API_BASE_URL=${API_BASE_URL:-http://localhost:8082}
    networks:
      - internal
    labels: []

networks:
  web:
    external: false
