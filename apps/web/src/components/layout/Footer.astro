---
import ScrollReveal from '../ui/ScrollReveal.svelte';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const navItems = [
  { label: t.nav.services, href: `/${lang}/#${lang === 'es' ? 'servicios' : 'services'}` },
  { label: t.nav.projects, href: `/${lang}/${lang === 'es' ? 'proyectos' : 'projects'}/` },
  { label: t.nav.blog, href: `/${lang}/blog/` },
  { label: t.nav.quote, href: `/${lang}/${lang === 'es' ? 'cotizar' : 'quote'}/` },
  { label: t.nav.schedule, href: `/${lang}/${lang === 'es' ? 'agendar' : 'schedule'}/` },
];
---

<footer class="border-t border-border bg-bg-secondary">
  <div class="mx-auto max-w-7xl px-4 py-14 sm:px-6 lg:px-8">
    <div class="grid gap-10 sm:grid-cols-2 lg:grid-cols-3">
      <!-- Col 1: Brand -->
      <ScrollReveal client:visible delay={0}>
        <div>
          <a href={`/${lang}/`} class="font-display text-xl font-bold text-accent-primary">
            JoleDev
          </a>
          <p class="mt-2 text-sm leading-relaxed text-text-secondary">
            {t.footer.tagline}
          </p>
        </div>
      </ScrollReveal>

      <!-- Col 2: Quick Links -->
      <ScrollReveal client:visible delay={0.1}>
        <div>
          <h3 class="text-sm font-semibold uppercase tracking-wider text-text-muted">
            {t.footer.quickLinks}
          </h3>
          <nav class="mt-3 flex flex-col gap-2">
            {navItems.map((item) => (
              <a
                href={item.href}
                class="text-sm text-text-secondary transition-colors hover:text-accent-primary"
              >
                {item.label}
              </a>
            ))}
          </nav>
        </div>
      </ScrollReveal>

      <!-- Col 3: Contact -->
      <ScrollReveal client:visible delay={0.15}>
        <div>
          <h3 class="text-sm font-semibold uppercase tracking-wider text-text-muted">
            {t.footer.contact}
          </h3>
          <div class="mt-3 flex flex-col gap-2">
            <a
              href={`mailto:${t.common.contactEmail}`}
              class="text-sm text-text-secondary transition-colors hover:text-accent-primary"
            >
              {t.common.contactEmail}
            </a>
            <p class="text-sm text-text-secondary">{t.footer.location}</p>
            <a
              href="https://status.joledev.com"
              target="_blank"
              rel="noopener noreferrer"
              class="text-sm text-text-secondary transition-colors hover:text-accent-primary"
            >
              {t.footer.status}
            </a>
          </div>
        </div>
      </ScrollReveal>
    </div>

    <!-- Separator + Copyright -->
    <div class="mt-12 border-t border-border pt-6 text-center">
      <p class="text-xs text-text-muted">{t.footer.copyright}</p>
    </div>
  </div>
</footer>
