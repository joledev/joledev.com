---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import ProjectFilter from '../../../components/portfolio/ProjectFilter.svelte';
import { getCollection } from 'astro:content';

const allProjects = await getCollection('projects');
const projects = allProjects
  .filter((p) => p.data.lang === 'en')
  .sort((a, b) => a.data.order - b.data.order);

const categories = [
  { value: 'web', label: 'Web' },
  { value: 'mobile', label: 'Mobile' },
  { value: 'system', label: 'Systems' },
  { value: 'integration', label: 'Integration' },
  { value: 'game', label: 'Games' },
  { value: 'devops', label: 'DevOps' },
];
---

<BaseLayout
  title="Projects"
  description="Project portfolio: web apps, mobile apps, enterprise systems, games, APIs and more."
  keywords="developer portfolio, software projects, web development"
>
  <section class="px-4 py-16 sm:px-6 sm:py-20 lg:px-8">
    <div class="mx-auto max-w-7xl">
      <h1 class="font-display text-4xl font-bold sm:text-5xl">Projects</h1>
      <p class="mt-3 text-lg text-text-secondary">
        A selection of projects I've worked on â€” from mobile apps to cloud infrastructure.
      </p>

      <div class="mt-10">
        <ProjectFilter
          client:load
          projects={projects}
          lang="en"
          categories={categories}
          basePath="/en/projects/"
        />
      </div>
    </div>
  </section>
</BaseLayout>
